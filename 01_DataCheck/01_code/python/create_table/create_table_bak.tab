drop table if exists odsdb.ods_gd_points_web_axios;
create table odsdb.ods_gd_points_web_axios (
`id`    INT(8)    NOT NULL AUTO_INCREMENT    COMMENT '增量ID',
`app_id`    VARCHAR(80)  DEFAULT NULL  COMMENT '所属系统ID',
`create_time`    DATE  DEFAULT NULL  COMMENT '用户访问时间',
KEY `idx_dim_odsdb_ods_gd_points_web_axios_create_time` (`create_time`) USING BTREE,
`url`    VARCHAR(400)  DEFAULT NULL  COMMENT '访问的ajaxUrl',
`speed_type`    INT(2)  DEFAULT NULL  COMMENT '访问速度类型 1：正常  2：慢',
`method`    VARCHAR(20)  DEFAULT NULL  COMMENT '资源请求方式',
`duration`    INT(255)  DEFAULT NULL  COMMENT 'AJAX响应时间 单位：ms',
`decoded_body_size`    INT(200)  DEFAULT NULL  COMMENT '返回字段大小  单位：B',
`options`    TEXT  DEFAULT NULL  COMMENT 'ajax请求参数',
`full_url`    VARCHAR(800)  DEFAULT NULL  COMMENT '完整url',
`call_url`    VARCHAR(400)  DEFAULT NULL  COMMENT '调用页面的URL',
`mark_page`    VARCHAR(200)  DEFAULT NULL  COMMENT '所有资源页面统一标识 html img css js 用户系统信息等',
`mark_user`    VARCHAR(200)  DEFAULT NULL  COMMENT '统一某一时间段用户标识',
KEY `idx_dim_odsdb_ods_gd_points_web_axios_mark_user` (`mark_user`) USING BTREE,
`app_mobile`    VARCHAR(20)  DEFAULT NULL  COMMENT '用户手机',
`dr`    INT(2)    NOT NULL DEFAULT 0.0    COMMENT '有效标识1：失效2：有效',
`load_data_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP    COMMENT '数据加载时间',
`update_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP    COMMENT '更新时间',
PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='GoingData用户访问流水表' ;

drop table if exists odsdb.ods_gd_points_web_environ;
create table odsdb.ods_gd_points_web_environ (
`id`    INT(8)    NOT NULL AUTO_INCREMENT    COMMENT '增量ID',
`app_id`    VARCHAR(80)  DEFAULT NULL  COMMENT '所属系统ID',
`create_time`    DATE  DEFAULT NULL  COMMENT '用户访问时间',
`url`    VARCHAR(400)  DEFAULT NULL  COMMENT '访问页面的url',
`mark_page`    VARCHAR(200)  DEFAULT NULL  COMMENT '所有资源页面统一标识 html img css js 用户系统信息等',
`mark_user`    VARCHAR(200)  DEFAULT NULL  COMMENT '统一某一时间段用户标识',
`mark_uv`    VARCHAR(200)  DEFAULT NULL  COMMENT '统一uv标识',
KEY `idx_dim_odsdb_ods_gd_points_web_environ_mark_uv` (`mark_uv`) USING BTREE,
`browser`    VARCHAR(40)  DEFAULT NULL  COMMENT '浏览器名称',
`borwser_version`    VARCHAR(200)  DEFAULT NULL  COMMENT '浏览器版本',
`system`    VARCHAR(80)  DEFAULT NULL  COMMENT '操作系统',
`system_version`    VARCHAR(40)  DEFAULT NULL  COMMENT '系统版本',
`ip`    VARCHAR(20)  DEFAULT NULL  COMMENT '访问者IP',
KEY `idx_dim_odsdb_ods_gd_points_web_environ_ip` (`ip`) USING BTREE,
`county`    VARCHAR(200)  DEFAULT NULL  COMMENT '国家',
`province`    VARCHAR(200)  DEFAULT NULL  COMMENT '省',
`city`    VARCHAR(200)  DEFAULT NULL  COMMENT '市',
`app_mobile`    VARCHAR(20)  DEFAULT NULL  COMMENT '用户手机',
`dr`    INT(2)    NOT NULL DEFAULT 0.0    COMMENT '有效标识1：失效2：有效',
`load_data_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP    COMMENT '数据加载时间',
`update_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP    COMMENT '更新时间',
PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='GoingData用户访问环境表' ;

drop table if exists odsdb.ods_gd_points_web_pages;
create table odsdb.ods_gd_points_web_pages (
`id`    INT(8)    NOT NULL AUTO_INCREMENT    COMMENT '增量ID',
`ods_id`    VARCHAR(80)  DEFAULT NULL  COMMENT '原始表ID',
`app_id`    VARCHAR(80)  DEFAULT NULL  COMMENT '所属系统ID',
`create_time`    DATE  DEFAULT NULL  COMMENT '用户访问时间',
KEY `idx_dim_odsdb_ods_gd_points_web_pages_create_time` (`create_time`) USING BTREE,
`url`    VARCHAR(400)  DEFAULT NULL  COMMENT 'url域名',
`full_url`    VARCHAR(800)  DEFAULT NULL  COMMENT '完整域名',
`pre_url`    VARCHAR(400)  DEFAULT NULL  COMMENT '用户访问的上一个页面，本页面来源',
`speed_type`    INT(2)  DEFAULT NULL  COMMENT '访问速度类型 1：正常  2：慢 ',
`is_first_in`    INT(2)  DEFAULT NULL  COMMENT '是否是某次会话的首次进入 2: 首次  1：非首次',
`mark_page`    VARCHAR(200)  DEFAULT NULL  COMMENT '所有资源页面统一标识 html img css js 用户系统信息等',
`mark_user`    VARCHAR(200)  DEFAULT NULL  COMMENT '统一某一时间段用户标识',
KEY `idx_dim_odsdb_ods_gd_points_web_pages_mark_user` (`mark_user`) USING BTREE,
`load_time`    INT(255)  DEFAULT NULL  COMMENT '页面完全加载时间 单位：ms ',
`dns_time`    INT(255)  DEFAULT NULL  COMMENT 'dns解析时间 单位：ms ',
`tcp_time`    INT(255)  DEFAULT NULL  COMMENT 'TCP连接时间',
`dom_time`    INT(255)  DEFAULT NULL  COMMENT 'DOM构建时间 单位：ms',
`resource_list`    TEXT  DEFAULT NULL  COMMENT '资源性能数据列表',
`resource_list_name`    TEXT  DEFAULT NULL  COMMENT '资源性能数据列表_name',
`resource_list_methond`    VARCHAR(20)  DEFAULT NULL  COMMENT '资源性能数据列表_methond',
`resource_list_type`    VARCHAR(20)  DEFAULT NULL  COMMENT '资源性能数据列表_type',
`resource_list_duration`    VARCHAR(20)  DEFAULT NULL  COMMENT '资源性能数据列表_duration',
`resource_list_decodebodysize`    VARCHAR(20)  DEFAULT NULL  COMMENT '资源性能数据列表_decodeBodySize',
`resource_list_nexthotprotocol`    VARCHAR(20)  DEFAULT NULL  COMMENT '资源性能数据列表_nextHotProtocol',
`resource_list_params`    TEXT  DEFAULT NULL  COMMENT '资源性能数据列表_params',
`total_res_size`    INT(40)  DEFAULT NULL  COMMENT '页面资源大小',
`white_time`    INT(40)  DEFAULT NULL  COMMENT '白屏时间 单位：ms',
`redirect_time`    INT(40)  DEFAULT NULL  COMMENT '页面重定向时间',
`unload_time`    INT(40)  DEFAULT NULL  COMMENT 'unload',
`request_time`    INT(40)  DEFAULT NULL  COMMENT 'request请求耗时',
`analysisdom_time`    INT(40)  DEFAULT NULL  COMMENT '解析dom耗时',
`ready_time`    INT(40)  DEFAULT NULL  COMMENT '页面准备时间',
`screenwidth`    INT(40)  DEFAULT NULL  COMMENT '屏幕宽度',
`screenheight`    INT(40)  DEFAULT NULL  COMMENT '屏幕高度',
`app_mobile`    VARCHAR(20)  DEFAULT NULL  COMMENT '用户手机',
KEY `idx_dim_odsdb_ods_gd_points_web_pages_app_mobile` (`app_mobile`) USING BTREE,
`dr`    INT(2)    NOT NULL DEFAULT 0.0    COMMENT '有效标识1：失效2：有效',
`load_data_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP    COMMENT '数据加载时间',
`update_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP    COMMENT '更新时间',
PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='GoingData用户访问触发埋点表' ;

drop table if exists odsdb.ods_gd_points_web_pvuvip;
create table odsdb.ods_gd_points_web_pvuvip (
`id`    INT(8)    NOT NULL AUTO_INCREMENT    COMMENT '增量ID',
`app_id`    VARCHAR(80)  DEFAULT NULL  COMMENT '所属系统ID',
`pv`    INT(20)  DEFAULT NULL  COMMENT 'PV统计',
`uv`    INT(20)  DEFAULT NULL  COMMENT 'uv统计',
`ip`    INT(20)  DEFAULT NULL  COMMENT 'ip统计',
KEY `idx_dim_odsdb_ods_gd_points_web_pvuvip_ip` (`ip`) USING BTREE,
`ajax`    INT(20)  DEFAULT NULL  COMMENT 'ajax访问量统计',
`bounce`    VARCHAR(80)  DEFAULT NULL  COMMENT '跳出率',
`depth`    INT(8)  DEFAULT NULL  COMMENT '平均访问深度',
`flow`    INT(40)  DEFAULT NULL  COMMENT '流量消费总额',
`type`    INT(2)  DEFAULT NULL  COMMENT '1:每分钟数据2：每小时数据',
`create_time`    DATE  DEFAULT NULL  COMMENT 'default:Date.now',
`dr`    INT(2)    NOT NULL DEFAULT 0.0    COMMENT '有效标识1：失效2：有效',
`load_data_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP    COMMENT '数据加载时间',
`update_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP    COMMENT '更新时间',
PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='GoingData用户pvuv表' ;

drop table if exists odsdb.ods_gd_points_web_report;
create table odsdb.ods_gd_points_web_report (
`id`    INT(8)    NOT NULL AUTO_INCREMENT    COMMENT '增量ID',
`app_id`    VARCHAR(80)  DEFAULT NULL  COMMENT '所属系统ID',
`create_time`    DATE  DEFAULT NULL  COMMENT '用户访问时间',
`user_agent`    VARCHAR(400)  DEFAULT NULL  COMMENT '用户浏览器信息标识',
`mark_page`    VARCHAR(200)  DEFAULT NULL  COMMENT '所有资源页面统一标识htmlimgcssjs用户系统信息等',
`mark_userpre_url`    VARCHAR(200)  DEFAULT NULL  COMMENT '统一某一时间段用户标识',
`mark_uv`    VARCHAR(200)  DEFAULT NULL  COMMENT '统一uv标识',
KEY `idx_dim_odsdb_ods_gd_points_web_report_mark_uv` (`mark_uv`) USING BTREE,
`url`    VARCHAR(400)  DEFAULT NULL  COMMENT '访问url',
`pre_url`    VARCHAR(400)  DEFAULT NULL  COMMENT '上一页面来源',
`performance`    TEXT  DEFAULT NULL  COMMENT '用户浏览器性能数据',
`error_list`    TEXT  DEFAULT NULL  COMMENT '错误信息列表',
`resource_list`    TEXT  DEFAULT NULL  COMMENT '资源性能数据列表',
`screenheight`    INT(40)  DEFAULT NULL  COMMENT '屏幕高度',
`screenwidth`    INT(40)  DEFAULT NULL  COMMENT '屏幕宽度',
`type`    VARCHAR(20)  DEFAULT NULL  COMMENT '1:网页性能上报2：后续操作ajax上报3：后续操作错误上报',
`dr`    INT(2)    NOT NULL DEFAULT 0.0    COMMENT '有效标识1：失效2：有效',
`load_data_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP    COMMENT '数据加载时间',
`update_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP    COMMENT '更新时间',
PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='GoingData用户访问汇报信息表' ;

drop table if exists odsdb.ods_gd_points_web_statis;
create table odsdb.ods_gd_points_web_statis (
`id`    INT(8)    NOT NULL AUTO_INCREMENT    COMMENT '增量ID',
`app_id`    VARCHAR(80)  DEFAULT NULL  COMMENT '所属系统ID',
`create_time`    DATE  DEFAULT NULL  COMMENT '用户访问时间',
`top_pages`    TEXT  DEFAULT NULL  COMMENT 'top访问page列表',
`top_pages_id_url`    VARCHAR(400)  DEFAULT NULL  COMMENT 'top访问page列表_id_url',
`top_pages_count`    INT(8)  DEFAULT NULL  COMMENT 'top访问page列表_count',
`top_jump_out`    TEXT  DEFAULT NULL  COMMENT 'top访问跳出率页面列表',
`top_jump_out_id_value`    VARCHAR(400)  DEFAULT NULL  COMMENT 'top访问跳出率页面列表_id_value',
`top_jump_out_count`    INT(8)  DEFAULT NULL  COMMENT 'top访问跳出率页面列表_count',
`top_browser`    TEXT  DEFAULT NULL  COMMENT 'top浏览器排行',
`top_browser_id_browser`    VARCHAR(40)  DEFAULT NULL  COMMENT 'top浏览器排行_id_browser',
`top_browser_count`    INT(8)  DEFAULT NULL  COMMENT 'top浏览器排行_count',
`provinces`    TEXT  DEFAULT NULL  COMMENT '省份访问流量排行',
`provinces_id_province`    VARCHAR(40)  DEFAULT NULL  COMMENT '省份访问流量排行_id_province',
`provinces_count`    INT(8)  DEFAULT NULL  COMMENT '省份访问流量排行_count',
`dr`    INT(2)    NOT NULL DEFAULT 0.0    COMMENT '有效标识1：失效2：有效',
`load_data_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP    COMMENT '数据加载时间',
`update_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP    COMMENT '更新时间',
PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='GoingData用户访问统计信息表' ;

drop table if exists odsdb.ods_gd_points_web_code;
create table odsdb.ods_gd_points_web_code (
`id`    INT(8)    NOT NULL AUTO_INCREMENT    COMMENT '增量ID',
`code`    VARCHAR(80)  DEFAULT NULL  COMMENT '埋点标识',
`com`    VARCHAR(80)  DEFAULT NULL  COMMENT '注释含义',
`dr`    INT(2)    NOT NULL DEFAULT 0.0    COMMENT '有效标识1：失效2：有效',
`load_data_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP    COMMENT '数据加载时间',
`update_time`    DATETIME    NOT NULL DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP    COMMENT '更新时间',
PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='GoingData用户访问埋点标识对照信息表' ;

